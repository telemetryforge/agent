[Unit]
Description=FluentDo Agent is an enterprise-hardened distribution of Fluent Bit
Documentation=https://fluent.do/
Requires=network.target
After=network.target

[Service]
Type=simple
EnvironmentFile=-/etc/sysconfig/@FLB_OUT_NAME@
EnvironmentFile=-/etc/default/@FLB_OUT_NAME@
EnvironmentFile=-/etc/sysconfig/fluent-bit
EnvironmentFile=-/etc/default/fluent-bit
ExecStart=/opt/fluentdo-agent/bin/fluentdo-agent -c /etc/fluentdo-agent/fluent-bit.conf
ExecReload=/bin/kill -HUP $MAINPID
# Allow for infinite restarts
Restart=on-failure
# Wait 5 second between restarts rather than 100ms
RestartSec=5s

[Install]
WantedBy=multi-user.target
